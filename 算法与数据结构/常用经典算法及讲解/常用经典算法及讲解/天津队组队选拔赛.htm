<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=GB2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./no3.files/filelist.xml">
<title>         NOI'96-97 天津队组队选拔赛试题及分析</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>lixuewu</o:Author>
  <o:LastAuthor>a</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>2</o:TotalTime>
  <o:Created>1996-12-31T17:58:00Z</o:Created>
  <o:LastSaved>1996-12-31T17:58:00Z</o:LastSaved>
  <o:Pages>15</o:Pages>
  <o:Words>3255</o:Words>
  <o:Characters>18557</o:Characters>
  <o:Company>aaa</o:Company>
  <o:Lines>154</o:Lines>
  <o:Paragraphs>37</o:Paragraphs>
  <o:CharactersWithSpaces>22789</o:CharactersWithSpaces>
  <o:Version>9.2812</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:PunctuationKerning/>
  <w:DrawingGridHorizontalSpacing>5.25 磅</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>7.15 磅</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:UseFELayout/>
  </w:Compatibility>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:1 135135232 16 0 262144 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	font-family:宋体;
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";
	mso-font-kerning:1.0pt;}
 /* Page Definitions */
@page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;
	mso-gutter-position:top;}
@page Section1
	{size:21.0cm 842.0pt;
	margin:79.4pt 87.7pt 70.9pt 87.65pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
</head>

<body lang=ZH-CN style='tab-interval:21.0pt;text-justify-trim:punctuation' bgcolor="#e8ffe8">
<div class=Section1>

<p class=MsoPlainText><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>NOI'96-97 天津队组队选拔赛试题及分析</span></p>

<p class=MsoPlainText style='text-indent:42.0pt;mso-char-indent-count:4.0;
mso-char-indent-size:10.5pt'><span lang=EN-US>(原载：信息学奥林匹克，1999，1)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>天津师范大学计算机科学系<span style="mso-spacerun: yes">&nbsp; </span>李学武</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>为了组建参加 NOI'96 及 NOI'97 比赛的天津代表队,天津市曾于1996年5月和12月</span></p>

<p class=MsoPlainText>组织了两届选拔赛<span lang=EN-US>,比赛收到了令人满意的效果,水平较高的两三位选手的成绩明显高于其他</span></p>

<p class=MsoPlainText>选手<span lang=EN-US>,组队人选无可争议.下面给出的试题,分析及参考程序都是笔者完成的.限于笔者的水平</span></p>

<p class=MsoPlainText>和精力<span lang=EN-US>,几乎每一个程序及算法都有进一步优化的余地.读者不妨尝试一下,或许从中会有所</span></p>

<p class=MsoPlainText>收益<span lang=EN-US>.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=MsoPlainText>一<span lang=EN-US>. 工作安排问题 (第一届选拔赛第一题)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>【试题】 现有 N (N≤8) 件工作, 分别由 N 个人完成, 每人都完成一件,且只完成一 件, </span></p>

<p class=MsoPlainText>每人完成不同工作的时间不同<span lang=EN-US>. 试设计一种分配工作方案, 使完成 N 件工作所需的总时间</span></p>

<p class=MsoPlainText>最少<span lang=EN-US>.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>原始数据由文本文件 EXAM1.TXT 给出, 其格式如下:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 1 行:<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>工作任务数(N)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 2 -- N+1 行:
第 i+1 行为第 i 个人完成各件工作所需的时间. 以</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>上各数均为不超过 1000 的正整数.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>计算结果可直接在屏幕上输出: 第一行为工作分配方案, 共 N
组, 每组数</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>据的形式为 a-b, 其中 a 为工作人员编号, b 为他应完成的工作序号.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>例: 设 EXAM1.TXT 的数据为:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>4</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2<span
style="mso-spacerun: yes">&nbsp; </span>15<span style="mso-spacerun:
yes">&nbsp; </span>13<span style="mso-spacerun: yes">&nbsp; </span>4</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>10<span
style="mso-spacerun: yes">&nbsp; </span>4<span style="mso-spacerun: yes">&nbsp;
</span>14<span style="mso-spacerun: yes">&nbsp; </span>15</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>9<span
style="mso-spacerun: yes">&nbsp; </span>14<span style="mso-spacerun:
yes">&nbsp; </span>16<span style="mso-spacerun: yes">&nbsp; </span>13</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>7<span
style="mso-spacerun: yes">&nbsp; </span>8<span style="mso-spacerun: yes">&nbsp;
</span>11<span style="mso-spacerun: yes">&nbsp; </span>9</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>对此, 一个正确的输出可以是</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1-4, 2-2, 3-1, 4-3</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TOTAL=28</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>【分析】 此题为常规题,以避免选手分数太低,分析及程序部分从略.</span></p>

<p class=MsoPlainText><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoPlainText>二<span lang=EN-US>. 圆盘问题 (第一届选拔赛第二题)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>【试题】从左向右依次安放 4 根细柱 A,B,C,D. 在 A 上套有
N (N≤20) 个直</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>径相同的圆盘, 从下到上依次用连续的小写字母 a,b,c,...编号, 将这些圆盘经过</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>B, C 单向地移入 D (即不允许从右向左移动). 圆盘可在 B,C 中暂存. 从键</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>盘输入 N, 及前 N 个小写字母的一个排列, 它表示最后在 D 盘上形成的一个</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>从下到上的圆盘序列. 请用文本文件 ANS2.TXT 输出形成这一排列的操作过程.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>该文件的每一行为一个形如 &quot;k M L&quot; 的字母序列, 其中 k 为圆盘编号, M 为</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>k 盘原先的柱号, L 为新柱号. 或者直接在屏幕上输出&quot;No&quot;, 表示不能生成这</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>种排列.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>例:<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="mso-spacerun: yes">&nbsp;</span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>键盘输入:<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>┃<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>d<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>━╋━<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>acb<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>c<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>━╋━<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>则一个正确的输出文件<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>b<span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>━╋━<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>可以是:<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>a<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>━╋━<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>┃</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c<span style="mso-spacerun:
yes">&nbsp; </span>A<span style="mso-spacerun: yes">&nbsp; </span>B<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>━━┻━━━┻━━━┻━━━┻━）！</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>b<span style="mso-spacerun:
yes">&nbsp; </span>A<span style="mso-spacerun: yes">&nbsp; </span>C<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>A<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>B<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>C<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>D</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a<span style="mso-spacerun:
yes">&nbsp; </span>A<span style="mso-spacerun: yes">&nbsp; </span>D</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>b<span style="mso-spacerun:
yes">&nbsp; </span>C<span style="mso-spacerun: yes">&nbsp; </span>D</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c<span style="mso-spacerun:
yes">&nbsp; </span>B<span style="mso-spacerun: yes">&nbsp; </span>D</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>【分析】</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>本题是递归回溯方法的一个典型的应用.以D柱的圆盘序列为检验的标准,一旦</span></p>

<p class=MsoPlainText>达到目标便结束<span lang=EN-US>,否则考虑下一种移动方案.将D柱上的圆盘序列从下到上依次编号</span></p>

<p class=MsoPlainText>为<span lang=EN-US>1,2,...,N,利用字母a,b,c,...与数字1,2,...,N的对应关系,在A柱上得到了数字</span></p>

<p class=MsoPlainText><span lang=EN-US>1,2,...,N的一个排列.这一变换在很大程度上简化了算法.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>例:A柱,D柱的字母序列分别为(a,b,c,d,e)和(e,c,a,b,d),则变换后,A柱,D柱</span></p>

<p class=MsoPlainText>的数字序列分别为<span lang=EN-US>(3,4,2,5,1)和(1,2,3,4,5).在后面的程序中,A柱与D柱的数字序列</span></p>

<p class=MsoPlainText>分别对应于数组<span lang=EN-US>ga[1..N]和gd[1..N].</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>容易看出,在D柱上,盘号从下到上必须是连续递增的.在C柱上,盘号从下到上必须是</span></p>

<p class=MsoPlainText>递减的<span lang=EN-US>(不要求连续).在A和B柱上,盘号的顺序是随意的(不能要求B柱盘号递减,否则</span></p>

<p class=MsoPlainText>可能丢失解<span lang=EN-US>).由此可归纳出以下的算法:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>1.记四根柱上顶部(即栈顶)的圆盘编号依次为topa,topb,topc,topd,</span></p>

<p class=MsoPlainText>则能够从<span lang=EN-US> A,B,C 三根柱子直接将顶部圆盘移入D柱的充分必要条件是:topa=succ(topd)</span></p>

<p class=MsoPlainText>或<span lang=EN-US>topb=succ(topd)或topc=succ(topd).这种移动通过下面的子程序Move1实现.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>2.此外还有三种移动方式:A=&gt;B,A=&gt;C,B=&gt;C,能进行这三种移动的条件依次是①topa&gt;0</span></p>

<p class=MsoPlainText>②<span lang=EN-US>topa&gt;0且topa&lt;topc③topb&gt;0且topb&lt;topc.这三种移动方式要递归地进行,且每一步</span></p>

<p class=MsoPlainText>都要考虑三种移动方式<span lang=EN-US>,在作出认真的论证之前,不要轻易地放弃哪一种,以免造成</span></p>

<p class=MsoPlainText>解的丢失<span lang=EN-US>.具体实现可参看下面的子程序Move2.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>3.当A,B,C三根柱子移空时程序正常结束.当递归回溯全部完成而没有得到目标状态时,</span></p>

<p class=MsoPlainText>以<span lang=EN-US>&quot;无解&quot;结束.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>在下面的程序中,数组ga,gb,gc,gd的引用并不是必要的,请读者对该程序予以简化.</span></p>

<p class=MsoPlainText>【参考程序】</p>

<p class=MsoPlainText><span lang=EN-US>program tjcoi1_2; { Write by Li Xuewu }</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>ga,gb,gc,gd,trn:array [0..15] of byte;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>fd:array [0..15] of char;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>resl:array [1..200] of string[6];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>fname:string[20];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>text2:text;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>i,n,kz,ks,topa1,topb1,topc1,topd1,temp:byte;</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure result(topa,topb,topc:byte;var
ks:byte);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var i:byte;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>if (topa=0)and(topb=0)and(topc=0) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>writeln('input filename
for output:');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>readln(fname);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>assign(text2,fname);<span style="mso-spacerun: yes">&nbsp; </span>rewrite(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for i:=1 to ks do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp; </span>writeln(text2,resl[i]);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>close(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for i:=1 to ks do
writeln(resl[i]);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>halt(1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure move1(var
topa,topb,topc,topd,ks1:byte);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var t,i:byte;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>repeat</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
</span>t:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ga[topa]=succ(gd[topd]) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span><span style='mso-tab-count:1'> </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;</span>t:=t+1; ks1:=ks1+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;
</span>resl[ks1]:=chr(trn[ga[topa]]+ord('a')-1)+' A D';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp; </span>topd:=topd+1;<span style="mso-spacerun:
yes">&nbsp; </span>gd[topd]:=ga[topa];<span style="mso-spacerun: yes">&nbsp;
</span>topa:=topa-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if gb[topb]=succ(gd[topd]) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;</span>t:=t+1; ks1:=ks1+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;
</span>resl[ks1]:=chr(trn[gb[topb]]+ord('a')-1)+' B D';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp; </span>topd:=topd+1;<span style="mso-spacerun:
yes">&nbsp; </span>gd[topd]:=gb[topb];<span style="mso-spacerun: yes">&nbsp;
</span>topb:=topb-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if gc[topc]=succ(gd[topd]) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp; </span>t:=t+1; ks1:=ks1+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp; </span>resl[ks1]:=chr(trn[gc[topc]]+ord('a')-1)+'
C D';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp; </span>topd:=topd+1;<span style="mso-spacerun:
yes">&nbsp; </span>gd[topd]:=gc[topc];<span style="mso-spacerun: yes">&nbsp;
</span>topc:=topc-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result(topa,topb,topc,ks1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>until t=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure
move2(topa,topb,topc,topd:byte;var ks:byte);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var<span style="mso-spacerun: yes">&nbsp; </span>kp,ks1:byte;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>kz:=kz+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>result(topa,topb,topc,ks);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>move1(topa,topb,topc,topd,ks);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for kp:=1 to 3 do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>case kp of</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>1:if(gb[topb]&lt;gc[topc])and(topb&gt;0) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ks1:=ks+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resl[ks1]:=chr(trn[gb[topb]]+ord('a')-1)+' B C';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>topc:=topc+1; temp:=gb[topb];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>gc[topc]:=temp;<span style="mso-spacerun: yes">&nbsp;
</span>topb:=topb-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move2(topa,topb,topc,topd,ks1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topb:=topb+1;<span style="mso-spacerun: yes">&nbsp;
</span>gb[topb]:=temp; topc:=topc-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>2:if(ga[topa]&lt;gc[topc])and(topa&gt;0) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ks1:=ks+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resl[ks1]:=chr(trn[ga[topa]]+ord('a')-1)+' A C';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topc:=topc+1;<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>temp:=ga[topa];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>gc[topc]:=temp;<span style="mso-spacerun: yes">&nbsp;
</span>topa:=topa-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move2(topa,topb,topc,topd,ks1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topa:=topa+1;<span style="mso-spacerun: yes">&nbsp;
</span>ga[topa]:=temp; topc:=topc-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3:if(topa&gt;0) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ks1:=ks+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resl[ks1]:=chr(trn[ga[topa]]+ord('a')-1)+' A B';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topb:=topb+1;<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>temp:=ga[topa];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>gb[topb]:=temp;<span style="mso-spacerun: yes">&nbsp;
</span>topa:=topa-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move2(topa,topb,topc,topd,ks1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topa:=topa+1;<span style="mso-spacerun: yes">&nbsp;
</span>ga[topa]:=temp; topb:=topb-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>if kz=1 then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin<span style="mso-spacerun:
yes">&nbsp; </span>writeln('No solution!');<span style="mso-spacerun:
yes">&nbsp; </span>halt(1);<span style="mso-spacerun: yes">&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>kz:=kz-1</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>begin{main}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>writeln('input disk number:');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>readln(n);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>writeln('input object column:(1-n char)');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>read(fd[i]);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>readln;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>trn[i]:=ord(fd[i])-ord('a')+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>ga[trn[i]]:=i;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>write(trn[i]:2); writeln;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>write(ga[i]:2); writeln;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>kz:=0;<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>ks:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>topa1:=n;<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>topb1:=0;<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>topc1:=0;<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>topd1:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>ga[0]:=0;<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>gb[0]:=0;<span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>gc[0]:=100;<span
style="mso-spacerun: yes">&nbsp; </span>gd[0]:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>move2(topa1,topb1,topc1,topd1,ks);</span></p>

<p class=MsoPlainText><span lang=EN-US>end.</span></p>

<p class=MsoPlainText><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoPlainText>三<span lang=EN-US>. 移球问题 (第一届选拔赛第三题)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>【试题】<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>给定 N 个盒子, 5≤N≤100, 第 i 个盒子装入 bi 个球, bi≥0,i=1,...,N, </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>球的总数为 M=b1+b2+...+bN, 4≤M≤10000. 在两个非空的盒子中各取一个球放</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>入另外的一个盒子中, 称为一次操作. 现要求使用最少的操作次数, 将所有的球</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>并入到一个盒子中. 请编写程序给出相应的操作方案, 及总操作次数.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>说明:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>(1) 按所给条件, 上述问题必有解,无须判断可解性.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>(2) 原始数据由名为 EXAM3.TXT 的文本文件给出. 格式如下: </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第一行: 一个整数, 为盒子个数(N).</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第二行: 用空格分隔的 N 个整数, 为各盒子的小球个数(bi).</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>所给的数据都是正确的.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>(3) 用文本文件输出计算结果 ( 文件名: ANS3.TXT ):</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>格式: 在前面的若干行中, 每一行为一组相同的操作. 例如:连续从1#,2#盒各取 </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>5 个小球, 放入 3# 盒, 可写为: 1<span style="mso-spacerun: yes">&nbsp;
</span>2<span style="mso-spacerun: yes">&nbsp; </span>3<span
style="mso-spacerun: yes">&nbsp; </span>5 , 即该行的四个数据依次为:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>第 1 个盒号<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>第 2 个盒号<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>目标盒号<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>从第 1 个盒中移出的球数</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>最后一行有四个数据: 球的总数(M), 总操作次数 , 0, 0(结束标志)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>(4) 测试时, 若实际操作次数比最少次数多 1-3 次, 可适当给分, 超过 3 次</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>或操作过程中出现非法数据时, 不给分.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>例: 设 EXAM3.TXT 的数据为</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>5</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3<span
style="mso-spacerun: yes">&nbsp; </span>4<span style="mso-spacerun: yes">&nbsp;
</span>5<span style="mso-spacerun: yes">&nbsp; </span>6<span
style="mso-spacerun: yes">&nbsp; </span>0</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>则一个正确的输出文件为:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2<span
style="mso-spacerun: yes">&nbsp; </span>3<span style="mso-spacerun: yes">&nbsp;
</span>4<span style="mso-spacerun: yes">&nbsp; </span>3</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;</span>1<span style="mso-spacerun: yes">&nbsp; </span>2<span
style="mso-spacerun: yes">&nbsp; </span>4<span style="mso-spacerun: yes">&nbsp;
</span>1</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1<span
style="mso-spacerun: yes">&nbsp; </span>3<span style="mso-spacerun: yes">&nbsp;
</span>4<span style="mso-spacerun: yes">&nbsp; </span>2</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>18<span
style="mso-spacerun: yes">&nbsp; </span>6<span style="mso-spacerun: yes">&nbsp;
</span>0<span style="mso-spacerun: yes">&nbsp; </span>0</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>【分析】 对于此题,一般的搜索方法对某些特殊情况难以奏效,因此,必须针对其特点,</span></p>

<p class=MsoPlainText>研究一些专门的算法<span lang=EN-US>.针对具体问题,确定总体解题原则,再由此原则出发,</span></p>

<p class=MsoPlainText>逐步细化<span lang=EN-US>,考虑种种特殊情况,进而全面解决问题,这是解竞赛题的一般做法,也是每个</span></p>

<p class=MsoPlainText>选手应该追求的一种较高的境界<span lang=EN-US>.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>具体分析如下:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>已知M为球的总数,不妨假定b1≥b2≥...≥bk≥0,bk+1=bk+2=...=bN=0,其中k是非空</span></p>

<p class=MsoPlainText>的盒子的个数<span lang=EN-US>.并设对应的盒子编号依次为c1,c2,...,cN. </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>令 M1=M-b1=b2+b3+...+bk,</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>下文中,(c1,c2)(t)(c3) 表示从c1,c2盒中各取t个球放入c3.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>经分析,容易确定以下准则:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>A. 若总操作次数=b2,则一定是最优解.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>这是因为,c1,c2两个盒子的球要合并在一起,且b1≥b2,则至少要作b2次操作.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>推论:若每个操作都包含从c2盒中取球的操作,则该操作一定是最优的.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>B. 若总操作次数=[M1/2],则一定是最优解.这里[x]表示x的整数部分.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>这是因为,需要移动的球的总数不得少于M1=M-b1,而每次移动两个球,故</span></p>

<p class=MsoPlainText>总操作次数不得少于<span lang=EN-US>[M1/2].</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>推论:若每个操作都包含向c1盒中加入球的操作,则该操作一定是最优的.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>C.存在其它达到最优的情况.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>下面分别就k≥4,k=3,k=2三种情况进行讨论.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>1. k≥4:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>1-1.M1是偶数.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>这时,一定能按准则A或B达到最优.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>(1) 若b2&gt;M1-b2=b3+b4+...+bk,</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>这时,利用准则A,每次操作都含有从c2中取球的操作,则一定可达到最优.设t=</span></p>

<p class=MsoPlainText><span lang=EN-US>b2-(M1-b2)=2b2-M1,由于M1是偶数,则t也一定是偶数,先从c2(同时从c3,c4,...,ck中</span></p>

<p class=MsoPlainText>的某一个盒中<span lang=EN-US>)取t/2个球放入c3,c4,...,ck中的另外的盒子中,记c2中还剩b*个球,</span></p>

<p class=MsoPlainText>则<span lang=EN-US>b*=M1-b*,再从c2(同时从c3,c4,...,ck中的某一个盒中)作b*次取球放入c1的操作</span></p>

<p class=MsoPlainText>即可<span lang=EN-US>.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>(2)若b2≤M1-b2=b3+b4+...+bk,</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>这时,利用准则B,每次操作都含有向c1中加入球的操作,则一定可达到最优.</span></p>

<p class=MsoPlainText>为此<span lang=EN-US>,只要在每次操作后,对于c2,c3,...,ck各个盒子,满足以下诸条件即可:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>① 不能只剩下一个非空的盒子.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>② 不能只剩下两个非空的盒子.ci,cj,而bi≠bj.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>③ b*≤b3*+b4*+...+bk*,这里,b*指每次操作后,c2中剩余的球数,b3*,b4*,</span></p>

<p class=MsoPlainText><span lang=EN-US>...bk*指c3,c4,...,ck各盒中操作后剩余的球数.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>通过适当调整,这总是能做到的.原则是尽量减小诸bi(除b1外)的差距.例如,先从c2,ck</span></p>

<p class=MsoPlainText>盒中各取一球放入<span lang=EN-US>c1,若满足上述条件,就作为一次操作,否则再做尝试.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>1-2.M1是奇数.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>(1)若存在i&gt;1,使b1=bi+1,b1=b2=...=bi-1,则将c1,ci两盒位置互换,新的M1为偶数</span></p>

<p class=MsoPlainText><span lang=EN-US>(等于原来的M1+1),可按1-1中的方法处理.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>(2)否则,执行操作(c1,c2)(1)(c3),使新的M1为偶数(等于原来的M1+1),仍可</span></p>

<p class=MsoPlainText>按<span lang=EN-US>1-1中的方法处理.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>2. k=3:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>不妨假定b1≥b2〉b3</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>2-1.M1是偶数.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>记t=b2-b3, 则t也一定是偶数,因此,可参照1-1(1)中的做法,但要借助c4.即先执行</span></p>

<p class=MsoPlainText>操作<span lang=EN-US>(c2,c3)(1)(c4),再执行操作(c2,c4)(1)(c3),共做t/2次操作,再作b2-t/2次从c2取</span></p>

<p class=MsoPlainText>球加入<span lang=EN-US>c1的操作即可.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>2-2.M1是奇数.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>可参照1-2中的做法,略加调整即可.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>3. k=2:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>这时,b1≥b2.在只有2个盒子非空的情况下,要作精细的分析,否则难以达到最优.</span></p>

<p class=MsoPlainText>在选拔赛中<span lang=EN-US>,几乎全部选手都没有通过这种情况的测试.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>(1) 若b2≠1,2,4,则利用准则A,经过b2次从c2盒中取球的操作即可达到最优.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>①若b2=3t,则操作如下:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c1)(t)(c3)<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c3(2t)(c1)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>②若b2=3t+1,则操作如下:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c1)(1)(c3)<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c3)(2)(c4)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c4)(4)(c1)<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c1)(t-2)(c3) (注意,由于b2≠1,4,则t≥2)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c3)(2t-4)(c1)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>③若b2=3t+2,则操作如下:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c1)(1)(c3)<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c3)(1)(c4)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c3)(1)(c1)<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c4)(2)(c1)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c1)(t-1)(c3) (注意,由于b2≠2,则t≥1)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c3)(2t-2)(c1)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>(2)b2=1,这时b1≥3, 最优操作次数=Min(b1,5)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>b2=2,这时b1≥2, 最优操作次数=Min(b1,4)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>b2=4,这时b1≥4, 最优操作次数=Min(b1,5)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>下面只给出b1≥5.b2=1的操作过程,其余情况请读者自己归纳.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c1,c2)(1)(c3)<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c1,c3)(1)(c2)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c1,c3)(1)(c4)<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>(c2,c4)(2)(c1)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>由于此题要作细致的分析,作为竞赛题 ,在很短的时间内完成,是很困难的.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>但它能充分展示选手分析问题的能力.事实上,在选拔赛中,有两名选手通过了大部</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>分测试,这正是命题人最希望得到的结果.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>本题程序请读者完成.</span></p>

<p class=MsoPlainText><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoPlainText>四<span lang=EN-US>. 钱币系统问题 (第二届选拔赛第一题)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>【试题】 某钱币系统由 k (k≤20) 种硬币组成, 币值依次为 a[1],a[2],...,a[k], 其</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>中 a[i] (i=1,2,...,k) 为互不相同的正整数, 且依降序排列, a[1]≤200. 给定</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>某整数币值 n(n≤3000), 要求用最少枚数的硬币表示这个币值.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span><span style="mso-spacerun: yes">&nbsp;&nbsp;</span>输入: 用文件输入已知数据, 格式为:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 1 行: k (硬币种数)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 2 行: a[1] a[2] ... a[k] (各币值用空格隔开,已按降序排列好)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 3 行: n (给定的币值)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>输出: 直接在屏幕上输出结果. 如果该钱币系统无法表示币值 n,应输出'No',</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>否则按以下格式输出:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 1 行: 最少钱币枚数 r.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 2 行: 输出若干形如 m*n 的表达式, m 为币值, n为使用该币值的枚数.
</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>各式第 2 个因子之和应等于 r, 各式乘积之和应等于 n.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>例: 设 (a[1],a[2],a[3])=(5,2,1),<span
style="mso-spacerun: yes">&nbsp; </span>n=12,<span style="mso-spacerun:
yes">&nbsp; </span>则应输出</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>5*2<span style="mso-spacerun:
yes">&nbsp; </span>2*1.</span></p>

<p class=MsoPlainText>【分析】</p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>此题用贪心法作,不一定能得到最优解,例如:钱币系统为(15,7,1),币值为21,贪心法的</span></p>

<p class=MsoPlainText>结果为<span lang=EN-US>15*1,1*6,共7枚硬币,而最优解为7*3,共3枚硬币.因此,本题应主要依靠递归</span></p>

<p class=MsoPlainText>回溯方法进行搜索<span lang=EN-US>.但是,在一定的条件下,贪心法也可以得到最优解,见下面的</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>命题1:若在钱币系统中,满足ai=t*ai+1,i=1,...,k-1,ak=1,t&gt;1(注意钱币系统按降序</span></p>

<p class=MsoPlainText>排列<span lang=EN-US>),则使用贪心法一定能得到最优解.(证明略)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>有时贪心法即使得不到最优解,其结果也可作为全面搜索的初值.因此,在我们的程序中,</span></p>

<p class=MsoPlainText>先用贪心法求得钱币枚数的一个上界<span lang=EN-US>r1,然后再利用递归回溯进行全面搜索.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>子程序find1(w,t,b2)是递归回溯的主要部分.其中,w为剩余的币值,要确定的是第t</span></p>

<p class=MsoPlainText>种硬币的枚数<span lang=EN-US>,数组b2用于存放结果.令 m=[w/a[t]],则第t种硬币可以有m+1种取法,即</span></p>

<p class=MsoPlainText>可取<span lang=EN-US>0,1,2,...,m枚,利用循环对每一种情况进行搜索.用w1表示确定第t种硬币枚数后剩</span></p>

<p class=MsoPlainText>余的币值<span lang=EN-US>,r为已用钱币总枚数,则继续递归搜索的条件应是:(w1&gt;0)且(r&lt;r1)且(t&lt;k).</span></p>

<p class=MsoPlainText>如果<span lang=EN-US>r&gt;r1,则这一步及后面的搜索都没有必要继续,结束本层子程序,回溯到上一层子程序</span></p>

<p class=MsoPlainText>作下一个循环值的搜索<span lang=EN-US>.</span></p>

<p class=MsoPlainText>【参考程序】</p>

<p class=MsoPlainText><span lang=EN-US>program tjcoi2_1; { Write by Li Xuewu }</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>type arr10=array [1..10] of integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var a,b,b2: arr10;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>i,j,k,n,r,r1: integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>file1: string[20];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>text1: text;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>gree: boolean;</span></p>

<p class=MsoPlainText><span lang=EN-US>{贪心法子程序}</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure greedy(n,k:integer; var
b2:arr10; var r:integer);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var j:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>r:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for j:=1 to k do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>b2[j]:=n div a[j];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>r:=r+b2[j];<span
style="mso-spacerun: yes">&nbsp; </span>n:=n-b2[j]*a[j];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>if n&gt;0 then<span style="mso-spacerun:
yes">&nbsp; </span>r:=3000;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>{输出结果}</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure result(r:integer);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var i:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>if r=3000</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>then writeln('No solution!')</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>writeln(r:4);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for i:=1 to
k do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>if<span style="mso-spacerun: yes">&nbsp; </span>b[i]&gt;0 then<span
style="mso-spacerun: yes">&nbsp; </span>write(a[i]:3,'*',b[i],'<span
style="mso-spacerun: yes">&nbsp; </span>');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>writeln</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>{递归回溯子程序}</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure find1(w,t:integer;var
b2:arr10);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>label 10;<span style="mso-spacerun: yes">&nbsp; </span></span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var i,j,m,w1:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin{*}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>m:=w div a[t];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for j:=0 to m do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin{**}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>w1:=w;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if t=1 then r:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>w1:=w1-j*a[t];<span
style="mso-spacerun: yes">&nbsp; </span>r:=r+j;<span style="mso-spacerun:
yes">&nbsp; </span>b2[t]:=j;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if r&gt;r1 then<span
style="mso-spacerun: yes">&nbsp; </span>begin r:=r-j; goto 10 end; </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if w1=0 then for i:=t+1
to k do b2[i]:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(w1&gt;0)and(r&lt;r1)and(t&lt;k) then find1(w1,t+1,b2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (w1=0)and(r&lt;r1)
then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>r1:=r;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>for i:=1 to k do b[i]:=b2[i];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>r:=r-j;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;{**}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>10: </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;{*}</span></p>

<p class=MsoPlainText><span lang=EN-US>begin {main}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>writeln('input filename:');<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>readln(file1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>assign(text1,file1);<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>reset(text1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>readln(text1,k);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>r:=0;<span style="mso-spacerun: yes">&nbsp; </span>r1:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=1 to k do b[i]:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>b2:=b;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>writeln('Money system:');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=1 to k do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>begin<span style="mso-spacerun: yes">&nbsp;
</span>read(text1,a[i]); write(a[i]:4); end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>readln(text1); writeln;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>readln(text1,n); writeln('The number of Money:',n:5);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>close(text1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>gree:=true;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=2 to k do if a[i]&lt;&gt;a[k-1]*a[i+1] then gree:=false;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>if a[k]&gt;1 then gree:=false;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>r1:=3000;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>greedy(n,k,b,r1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>if gree<span style="mso-spacerun: yes">&nbsp; </span>then<span
style="mso-spacerun: yes">&nbsp; </span>result(r1)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>else<span style="mso-spacerun: yes">&nbsp;
</span>begin<span style="mso-spacerun: yes">&nbsp; </span>find1(n,1,b2);
result(r1)<span style="mso-spacerun: yes">&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>end.</span></p>

<p class=MsoPlainText><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoPlainText>五<span lang=EN-US>. 省刻度尺问题 (第二届选拔赛第二题)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>【试题】 给定长度为 L 的直尺, L 为整数,且L≤40. 为了能一次直接量出 1,2,</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>...,L 的各种长度, 该尺内部至少要有多少条刻度 ? 请输出最少刻度数(不含两端点)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>及每个刻度的位置. 测量长度时可利用两端点, 其位置分别为 0, L.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>输入: 由键盘输入 L.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>输出: 用文本文件按以下格式输出结果(文件名: ANS2.TXT): </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 1 行: S ( 最少刻度数 )</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 2 行: 尺内 S 个刻度的位置</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 3 行至第 L+2 行: 每行输出 3 个用空格隔开的整数 t m
n, 其中 </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>1≤t≤L 为要测量的各长度, m,n 依次为该长度的起止刻度 (m&lt;n). </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>例: 如果 L=6, 则一个正确的输出是:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1 4<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>提示:<span style="mso-spacerun: yes">&nbsp; </span>(1) 最少刻度数 S 应满足:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1 0 1<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>C[S+2,2]=(S+2)*(S+1)/2≥L.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2 4 6<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>(2)
除两端点外, 第一个刻度可取为</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3 1 4<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>A[1]=1, 第二个刻度可在 2, L-2, L-1 这</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>4 0 4<span
style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>三个数中选取.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>5 1 6</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>6 0 6</span></p>

<p class=MsoPlainText>【分析】先对提示作适当说明<span lang=EN-US>.包括两端,该尺共有S+2个刻度,量一个长度需要两个</span></p>

<p class=MsoPlainText>刻度<span lang=EN-US>,因此最多可量出C[S+2,2]个长度,即从S+2个元素中选2个元素的组合数,显然,</span></p>

<p class=MsoPlainText>它不得小于<span lang=EN-US>L, 这就给出了S的一个下界,它自然也是计算的出发点.实际计算表明,</span></p>

<p class=MsoPlainText>在题中条件下<span lang=EN-US>,如果满足提示(1)中的不等式的最小的S无解,则S+1必有解.这就在很大</span></p>

<p class=MsoPlainText>程度上缩小了搜索范围<span lang=EN-US>.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>为了量出长度L-1,取A[1]=1或A[1]=L-1是必要的.由于本题只须给出一组解,因此</span></p>

<p class=MsoPlainText>利用对称性<span lang=EN-US>,一律规定A[1]=1. 取定A[1]之后,为了量出长度L-2,必须在2,L-2,L-1这三</span></p>

<p class=MsoPlainText>个刻度中选择一个<span lang=EN-US>.这样,提示(2)至少使我们减少了两层递归搜索.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>本题仍然采用递归回溯的搜索方法.以第2个刻度的三种选择为出发点,对照第二题</span></p>

<p class=MsoPlainText>的三种移动方式<span lang=EN-US>(A=&gt;B,A=&gt;C,B=&gt;C),与圆盘问题的处理手段极其类似,不再赘述.</span></p>

<p class=MsoPlainText>【参考程序】</p>

<p class=MsoPlainText><span lang=EN-US>program tjcoi2_2;<span
style="mso-spacerun: yes">&nbsp; </span>{ Write by Li Xuewu }</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>label 10;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>type arr40=array [0..40] of byte;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var<span style="mso-spacerun: yes">&nbsp; </span>a,b,c,d:arr40;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>i,j, k,kz,r,m,t1,t2:byte;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>done: boolean;</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure result;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var file1:string[20];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>text2:text;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>i,j,w:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln('enter filename for output:');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>readln (file1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>assign(text2,file1);<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>rewrite(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln(k:2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=1 to k do<span style="mso-spacerun:
yes">&nbsp; </span>write(a[i]:4);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=1 to m do writeln(i:2, c[i]:4,d[i]:4);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln(text2,k:2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=1 to k do<span style="mso-spacerun:
yes">&nbsp; </span>write(text2,a[i]:4);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=1 to m do writeln(text2,i:2,
c[i]:4,d[i]:4);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>close(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>done:=true;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>halt;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure init1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var i:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=0 to 40 do b[i]:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>c:=b; d:=b;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=2 to k do a[i]:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>a[0]:=0;<span style="mso-spacerun: yes">&nbsp;
</span>a[k+1]:=m;<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>a[1]:=1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure find2(r,t1,t2:integer);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var i,j,j2,v1,v2,t,t3,t4,temp:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin {1}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=t1 to t2 do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin {2}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>a[r]:=i;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if (r&lt;k) and
(i&lt;t2) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin<span
style="mso-spacerun: yes">&nbsp; </span>t3:=i+1; find2(r+1,t3,t2); end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if r=k then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin{3}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>if ((kz=1)or(kz=3)) and (k&gt;2) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>temp:=a[2];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>for j:=2 to k-1 do a[j]:=a[j+1];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>a[k]:=temp;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>for j:=1 to m do b[j]:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>for j:=0 to k do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>for j2:=j+1 to k+1 do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>t:=a[j2]-a[j];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>if b[t]=0 then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>begin b[t]:=1; c[t]:=a[j]; d[t]:=a[j2]<span style="mso-spacerun:
yes">&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>done:=true;<span style="mso-spacerun: yes">&nbsp; </span>j:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>repeat j:=j+1 until (b[j]=0)or(j&gt;m);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>if j&lt;=m then done:=false;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>if done then result;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;{3}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;</span>end; {2}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>end; {1}</span></p>

<p class=MsoPlainText><span lang=EN-US>begin{main}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>writeln('inptu L:(L&lt;=40 and L&gt;3)');<span style="mso-spacerun:
yes">&nbsp; </span>readln(m);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>k:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>repeat k:=k+1 until ((k+2)*(k+1) div 2) &gt;= m;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>10: init1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for kz:=1 to 3 do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>case kz of</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>1:begin{*}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a[2]:=m-2;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if k=2</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>then find2(2,a[2],a[2])</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>r:=3; t1:=2;<span style="mso-spacerun: yes">&nbsp; </span>t2:=m-3;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>find2(r,t1,t2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;{*}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>2:begin{**}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a[2]:=2;<span
style="mso-spacerun: yes">&nbsp; </span>r:=3; t1:=3;<span style="mso-spacerun:
yes">&nbsp; </span>t2:=m-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if t2&lt;t1 then t2:=t1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>find2(r,t1,t2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;{**}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>3:begin{***}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a[2]:=m-1;<span
style="mso-spacerun: yes">&nbsp; </span>r:=3; t1:=2; t2:=m-2;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if t2&lt;t1 then t2:=t1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>find2(r,t1,t2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;{***}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>end;{case}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>k:=k+1;<span style="mso-spacerun: yes">&nbsp; </span>goto 10;</span></p>

<p class=MsoPlainText><span lang=EN-US>end.</span></p>

<p class=MsoPlainText><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoPlainText>六<span lang=EN-US>. 卡车更新问题 (第二届选拔赛第三题)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>【试题】 某人购置了一辆新卡车, 从事个体运输业务. 给定以下各有关数据:<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>R[t],
t=1,2,...,k, 表示已使用过 t 年的卡车, 再工作一年所得的运费, 它</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>随 t 的增加而减少, k (k≤20) 年后卡车已无使用价值. </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>U[t], t=1,...,k, 表示已使用过 t 年的卡车, 再工作一年所需的维修费, 它</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>随 t 的增加而增加.<span style="mso-spacerun: yes">&nbsp; </span></span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>C[t], t=1,2,...,k, 表示已使用过 t 年的旧卡车, 卖掉旧车, 买进新车, 所</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>需的净费用, 它随 t 的增加而增加. 以上各数据均为实型, 单位为&quot;万元&quot;.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>设某卡车已使用过 t 年,</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>① 如果继续使用, 则第 t+1 年回收额为 R[t]-U[t],</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>② 如果卖掉旧车,买进新车, 则 第 t+1 年回收额为 R[0]-U[0]-C[t] .</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>该运输户从某年初购车日起,计划工作 N (N&lt;=20) 年, N 年后不论车的状态如</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>何,不再工作. 为使这 N 年的总回收额最大, 应在哪些年更新旧车?<span style="mso-spacerun:
yes">&nbsp; </span>假定在这 N </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>年内, 运输户每年只用一辆车, 而且以上各种费用均不改变.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>输入: 用文件输入已知数据, 格式为:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 1 行: N (运输户工作年限)</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 2 行: k (卡车最大使用年限, k≤20 )</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 3 行: R[0] R[1] ... R[k]</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 4 行: U[0] U[1] ... U[k]</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 5 行: C[0] C[1] ... C[k]</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>输出: 用文本文件按以下格式输出结果: </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 1 行: W ( N 年总回收额 )</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>第 2--N+1 行: 每行输出 3 个数据:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>年序号<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>( 从 1 到 N 按升序输出 );</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>是否更新<span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>( 当年如果更新,输出 1, 否则输出 0); </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>当年回收额 ( N 年回收总额应等于
W ).</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>例: 设给定以下数据:</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>N=4,<span style="mso-spacerun:
yes">&nbsp; </span>k=5,</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>i:<span
style="mso-spacerun: yes">&nbsp;&nbsp; </span>0<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>1<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>2<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>3<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>4<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>5 </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>R[i]:<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>8<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>7<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>6<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>5<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>4<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>2</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>U[i]:<span style="mso-spacerun:
yes">&nbsp; </span>0.5<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>1<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>2<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>3<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>4<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>5 </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C[i]:<span style="mso-spacerun:
yes">&nbsp; </span><span style="mso-spacerun: yes">&nbsp;</span>0<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>2<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>3<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>5<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>8<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>10</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>则正确的输出应该是</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>24.5</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>0<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>7.5</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>1<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>5.5</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>1<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>5.5</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>4<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>0<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>6.0</span></p>

<p class=MsoPlainText>【分析】这是动态规划的一个典型的例题<span lang=EN-US>.由题意可知,用过t年的卡车,继续使用一年的</span></p>

<p class=MsoPlainText>收益为<span lang=EN-US>d[t]=R[t]-U[t],更换新车后一年的收益为e[t]=R[0]-U[0]-C[t].
我们采用倒推</span></p>

<p class=MsoPlainText>分析的方法<span lang=EN-US>.F[j,t]表示已经使用了t年的卡车, 在第j年不论继续使用还是更新,到第N年</span></p>

<p class=MsoPlainText>为止<span lang=EN-US>,可能得到的最大收益. 规定当j&gt;N时, F[j,t]≡0. 如果在第j年更新,则收益为</span></p>

<p class=MsoPlainText><span lang=EN-US>p=e[t]+F[j+1,1]; 如果仍使用旧车,则收益为
q=d[t]+F[j+1,t+1]. 这里,e[t]或d[t]为</span></p>

<p class=MsoPlainText>第<span lang=EN-US>j年的收益, F[j+1,1]或F[j+1,t+1]为从第j+1年到第N年在不同条件下的最大收益.显</span></p>

<p class=MsoPlainText>然<span lang=EN-US>,F[j,t]=Max(p,q).这就是所需要的计算公式.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>在下面的程序中,数组g[j,t]用于记录使用过t年的车,在第j年的选择方案,g[j,t]=1</span></p>

<p class=MsoPlainText>表示更换新车<span lang=EN-US>,g[j,t]=0表示仍使用旧车.</span></p>

<p class=MsoPlainText>【参考程序】</p>

<p class=MsoPlainText><span lang=EN-US>program tjcoi2_3; { Write By Li Xuewu }</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>type arr20=array[0..20] of real;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var rr,uu,cc,d,e:arr20;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>f:array [0..22,0..21] of real;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>g:array [0..22,0..21] of integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>i,j,k,k2,n,t:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>file1:string[20];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>p,q:real;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>text2,text3:text;</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure init;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>var i:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln('Input filename:');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>readln(file1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>assign(text2,file1);<span style="mso-spacerun:
yes">&nbsp; </span>reset(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>readln(text2,n);<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>readln(text2,k);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=0 to k do read(text2,rr[i]);<span
style="mso-spacerun: yes">&nbsp; </span>readln(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=0 to k do read(text2,uu[i]);<span
style="mso-spacerun: yes">&nbsp; </span>readln(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=0 to k do read(text2,cc[i]);<span
style="mso-spacerun: yes">&nbsp; </span>readln(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>close(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=0 to k do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin d[i]:=rr[i]-uu[i];<span
style="mso-spacerun: yes">&nbsp; </span>e[i]:=d[0]-cc[i];<span
style="mso-spacerun: yes">&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>procedure result3;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span><span style="mso-spacerun: yes">&nbsp;</span>var i:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln('enter filename for output:');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>readln(file1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>assign(text3,file1);<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>rewrite(text3);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln(text3,f[1,1]:8:3);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln(text3,' 1<span style="mso-spacerun:
yes">&nbsp; </span>0', e[0]:8:2); t:=1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=2 to n do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if g[i,t]=1 then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;</span>begin writeln(text3,i:2,'<span style="mso-spacerun:
yes">&nbsp; </span>1',e[t]:8:2); t:=1 end</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin<span
style="mso-spacerun: yes">&nbsp; </span>writeln(text3,i:2,'<span
style="mso-spacerun: yes">&nbsp; </span>0',d[t]:8:2); t:=t+1;<span
style="mso-spacerun: yes">&nbsp; </span>end ;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln(f[1,1]:8:3);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>writeln(' 1<span style="mso-spacerun:
yes">&nbsp; </span>0',e[0]:8:2);<span style="mso-spacerun: yes">&nbsp;
</span>t:=1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for i:=2 to n do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if g[i,t]=1 then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin writeln(i:2,'<span
style="mso-spacerun: yes">&nbsp; </span>1',e[t]:8:2); t:=1 end</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin<span
style="mso-spacerun: yes">&nbsp; </span>writeln(i:2,'<span style="mso-spacerun:
yes">&nbsp; </span>0',d[t]:8:2); t:=t+1;<span style="mso-spacerun: yes">&nbsp;
</span>end ;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>close(text3);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US>begin {main}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>init;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=0 to n do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>for j:=0 to k do<span style="mso-spacerun:
yes">&nbsp; </span>g[i,j]:=1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=0 to k do<span style="mso-spacerun: yes">&nbsp;
</span>f[n+1,i]:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for i:=1 to n+1 do f[i,k+1]:=-100;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>for j:=n downto 2 do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>k2:=k; </span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if j&lt;k then k2:=j-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for t:=1 to k2 do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>p:=e[t]+f[j+1,1];<span style="mso-spacerun: yes">&nbsp;
</span>q:=d[t]+f[j+1,t+1];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>f[j,t]:=p;<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>g[j,t]:=1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if q&gt;p
then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>begin g[j,t]:=0;<span style="mso-spacerun: yes">&nbsp;
</span>f[j,t]:=q;<span style="mso-spacerun: yes">&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>f[1,1]:=d[0]+f[2,1];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun: yes">&nbsp;
</span>result3;</span></p>

<p class=MsoPlainText><span lang=EN-US>end.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span></span></p>

<p class=MsoPlainText><span lang=EN-US>end.</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span></span></p>

<p class=MsoPlainText><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoPlainText><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoPlainText><span lang=EN-US>1</span></p>

<p class=MsoPlainText><span lang=EN-US><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>program e04_04; { 圆盘问题 }</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>type arr3=array [0..15] of integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>var</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>ga,gb,gc,trn:arr3;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>fd:array [0..15] of char;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>resl:array [1..200] of string[6];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>fname:string[20];</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>text2:text;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>i,n,ks,topa1,topb1,topc1,topd1:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>procedure result(var topa,topb,topc,ks:integer);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>var i:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>if (topa=0)and(topb=0)and(topc=0) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>writeln('input
filename for output:');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>readln(fname);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>assign(text2,fname);<span style="mso-spacerun: yes">&nbsp;
</span>rewrite(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for i:=1 to ks
do<span style="mso-spacerun: yes">&nbsp; </span>writeln(text2,resl[i]);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>close(text2);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for i:=1 to ks do
writeln(resl[i]);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>halt(1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>procedure move1(var topa,topb,topc,topd,ks1:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>var<span style="mso-spacerun: yes">&nbsp; </span>ga,gb,gc:arr3);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>var t:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>repeat</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>t:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if ga[topa]=succ(topd) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>t:=t+1; ks1:=ks1+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resl[ks1]:=chr(trn[ga[topa]]+ord('a')-1)+' A D';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topd:=topd+1;<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>topa:=topa-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if gb[topb]=succ(topd) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>t:=t+1; ks1:=ks1+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resl[ks1]:=chr(trn[gb[topb]]+ord('a')-1)+' B D';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topd:=topd+1;<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>topb:=topb-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if gc[topc]=succ(topd) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>t:=t+1; ks1:=ks1+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resl[ks1]:=chr(trn[gc[topc]]+ord('a')-1)+' C D';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topd:=topd+1;<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>topc:=topc-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result(topa,topb,topc,ks1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>until t=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>procedure move2(var topa,topb,topc,topd,ks:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>var ga,gb,gc:arr3);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>var<span style="mso-spacerun: yes">&nbsp;
</span>t,kp,ks1,temp,topa1,topb1,topc1,topd1:integer;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ga1,gb1,gc1:arr3;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>begin {*}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>for kp:=1 to 3 do</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin {**}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>topa1:=topa;
topb1:=topb; topc1:=topc; topd1:=topd;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ga1:=ga; gb1:=gb;
gc1:=gc; ks1:=ks;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move1(topa1,topb1,topc1,topd1,ks1,ga1,gb1,gc1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>case kp of</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1:
if(gb1[topb1]&lt;gc1[topc1])and(topb1&gt;0) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ks1:=ks1+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resl[ks1]:=chr(trn[gb1[topb1]]+ord('a')-1)+' B C';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topc1:=topc1+1;<span style="mso-spacerun: yes">&nbsp;
</span>gc1[topc1]:=gb1[topb];<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>topb1:=topb1-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move1(topa1,topb1,topc1,topd1,ks1,ga1,gb1,gc1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>result(topa1,topb1,topc1,ks1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move2(topa1,topb1,topc1,topd1,ks1,ga1,gb1,gc1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2:
if(ga1[topa1]&lt;gc1[topc1])and(topa1&gt;0) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ks1:=ks1+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resl[ks1]:=chr(trn[ga1[topa1]]+ord('a')-1)+' A C';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>topc1:=topc1+1;<span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>gc1[topc1]:=ga1[topa1];<span style="mso-spacerun: yes">&nbsp;
</span>topa1:=topa1-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move1(topa1,topb1,topc1,topd1,ks1,ga1,gb1,gc1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>result(topa1,topb1,topc1,ks1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move2(topa1,topb1,topc1,topd1,ks1,ga1,gb1,gc1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>3: if(topa1&gt;0) then</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>begin</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ks1:=ks1+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>resl[ks1]:=chr(trn[ga1[topa1]]+ord('a')-1)+' A B';</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>topb1:=topb1+1;<span style="mso-spacerun: yes">&nbsp;
</span>gb1[topb1]:=ga1[topa1];<span style="mso-spacerun: yes">&nbsp;
</span>topa1:=topa1-1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move1(topa1,topb1,topc1,topd1,ks1,ga1,gb1,gc1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>result(topa1,topb1,topc1,ks1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>move2(topa1,topb1,topc1,topd1,ks1,ga1,gb1,gc1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end; {end case}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end;{**}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>end; {*}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>begin{main}</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>writeln('input disk number:');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>readln(n);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>writeln('input object column:(1-n char)');</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>read(fd[i]);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>readln;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>trn[i]:=ord(fd[i])-ord('a')+1;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>ga[trn[i]]:=i;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>write(trn[i]:2); writeln;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>for i:=1 to n do<span style="mso-spacerun: yes">&nbsp;
</span>write(ga[i]:2); writeln;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>ks:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>topa1:=n;<span style="mso-spacerun: yes">&nbsp;
</span>topb1:=0;<span style="mso-spacerun: yes">&nbsp; </span>topc1:=0;<span
style="mso-spacerun: yes">&nbsp; </span>topd1:=0;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>ga[0]:=0;<span style="mso-spacerun: yes">&nbsp;
</span>gb[0]:=0;<span style="mso-spacerun: yes">&nbsp; </span>gc[0]:=100;</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>move2(topa1,topb1,topc1,topd1,ks,ga,gb,gc);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>writeln('No solution!');<span style="mso-spacerun:
yes">&nbsp; </span>halt(1);</span></p>

<p class=MsoPlainText><span lang=EN-US><span style="mso-spacerun:
yes">&nbsp;</span>end.</span></p>

<p class=MsoPlainText></p>

</div>

</body>

</html>
